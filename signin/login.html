
<!DOCTYPE html>
<html lang="en">

<!-- Head -->

<head>

    <title>Sign in Form</title>

    <!-- Meta-Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- style CSS -->
    <link rel="stylesheet" href="css/style.css" type="text/css" media="all">
    <link rel="stylesheet" href="./lib/layui/css/layui.css">
    <!-- google fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="../js/jquery.js"></script>
    <script src="./lib/layui/layui.js"></script>
</head>
<!-- //Head -->

<!-- Body -->

<body>

    <section class="main">
       
        <div class="content-w3ls text-center">
            <img src="images/admin.png" alt="" class="img-responsive">
            <!-- 表单标签 -->
            <form  class="biao" id="form_login">
                <!-- 登录名 -->
                <div class="wthree-field">
                    <input name="text1" id="text1" type="text" value="" class='q' placeholder="Username" lay-verify="required">
                </div>
                <!-- 密码 -->
                <div class="wthree-field">
                    <input name="password" id="myInput" class='w' type="Password" placeholder="Password" lay-verify="required"required>
                </div>
                 <!-- 登录提交按钮 -->
                <div class="wthree-field">
                    <!-- 表单按钮 -->
                    <button  class="btn layui-bg-green" lay-submit>Sign In</button>
                </div>
                
            </form>
        </div>
        <div class="copyright">
            <p>© 2022 Signin Form. Made with love | Designed by <a
                href="#" >chenyingjie</a></p>
        </div>
    </section>


</body>
<!-- //Body -->
<script> 
let form =layui.form
let layer = layui.layer
//ajax jq 中阻止页面跳转
$(function(){
            $('#form_login').submit(function(e){
                
                e.preventDefault() 
                $.ajax({
                    url: 'http://127.0.0.1:3007/api/login',
                    method: 'POST',
                    // 快速获得表单中数据
                    data: $(this).serialize(),
                    success: function(res){
                        if(res.status !== 0){
                        return layer .msg('登入失败')
                    }
                    layer .msg('登入成功') 
                    console.log(res.token)
                    location.href = '/index.html'
                    }
                })
                
            })})

</script> 
</html>